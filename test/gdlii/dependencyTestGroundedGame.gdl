; game used to test dependency graph

; define players
(role red)
(role blue)

(init (round 1))

; legal moves
(legal red (choose_hand rock))
(legal red (choose_hand paper))
(legal red (choose_hand scissors))
(legal blue (choose_hand rock))
(legal blue (choose_hand paper))
(legal blue (choose_hand scissors))


; state transitions
(<= (next (round 2)) (true (round 1)) (true draw))
(<= (next (round 3)) (true (round 2)) (true draw))

(<= (next draw) (does red (choose_hand rock)) (does blue (choose_hand rock)))
(<= (next draw) (does red (choose_hand paper)) (does blue (choose_hand paper)))
(<= (next draw) (does red (choose_hand scissors)) (does blue (choose_hand scissors)))


; terminal conditions
(<= (next (win red)) (does red (choose_hand rock)) (does blue (choose_hand scissors)))
(<= (next (win red)) (does red (choose_hand paper)) (does blue (choose_hand rock)))
(<= (next (win red)) (does red (choose_hand scissors)) (does blue (choose_hand paper)))
(<= (next (win blue)) (does blue (choose_hand rock)) (does red (choose_hand scissors)))
(<= (next (win blue)) (does blue (choose_hand paper)) (does red (choose_hand rock)))
(<= (next (win blue)) (does blue (choose_hand scissors)) (does red (choose_hand paper)))

(<= terminal (true (win red)))
(<= terminal (true (win blue)))
(<= terminal (true (round 3)))


; assign points after termination
(<= (goal red 100) (true (win red)))
(<= (goal blue 100) (true(win blue)))
(<= (goal red 50) (true draw))
(<= (goal blue 50) (true draw))
(<= (goal red 0) (true (win blue)))
(<= (goal blue 0) (true (win red)))

;(role red)
;(role blue)
;
;(<= (legal red (red_hand rock)))
;(<= (legal red (red_hand paper)))
;(<= (legal red (red_hand scissors)))
;(<= (legal blue (blue_hand rock)))
;(<= (legal blue (blue_hand paper)))
;(<= (legal blue (blue_hand scissors)))
;
;(<= (sees red (red_hand rock)) (does red (red_hand rock)))
;(<= (sees blue (red_hand rock)) (does red (red_hand rock)))
;(<= (sees red (red_hand paper)) (does red (red_hand paper)))
;(<= (sees blue (red_hand paper)) (does red (red_hand paper)))
;(<= (sees red (red_hand scissors)) (does red (red_hand scissors)))
;(<= (sees blue (red_hand scissors)) (does red (red_hand scissors)))
;(<= (sees red (blue_hand rock)) (does blue (blue_hand rock)))
;(<= (sees blue (blue_hand rock)) (does blue (blue_hand rock)))
;(<= (sees red (blue_hand paper)) (does blue (blue_hand paper)))
;(<= (sees blue (blue_hand paper)) (does blue (blue_hand paper)))
;(<= (sees red (blue_hand scissors)) (does blue (blue_hand scissors)))
;(<= (sees blue (blue_hand scissors)) (does blue (blue_hand scissors)))
;
;(<= (goal red 100) (red_hand rock) (blue_hand scissors))
;(<= (goal red 100) (red_hand paper) (blue_hand rock))
;(<= (goal red 100) (red_hand scissors) (blue_hand paper))
;(<= (goal blue 100) (blue_hand rock) (red_hand scissors))
;(<= (goal blue 100) (blue_hand paper) (red_hand rock))
;(<= (goal blue 100) (blue_hand scissors) (red_hand paper))
;
;(<= (goal red 50) (red_hand rock) (blue_hand rock))
;(<= (goal red 50) (red_hand paper) (blue_hand paper))
;(<= (goal red 50) (red_hand scissors) (blue_hand scissors))
;(<= (goal blue 50) (red_hand rock) (blue_hand rock))
;(<= (goal blue 50) (red_hand paper) (blue_hand paper))
;(<= (goal blue 50) (red_hand scissors) (blue_hand scissors))
;
;(<= (goal blue 0) (red_hand rock) (blue_hand scissors))
;(<= (goal blue 0) (red_hand paper) (blue_hand rock))
;(<= (goal blue 0) (red_hand scissors) (blue_hand paper))
;(<= (goal red 0) (blue_hand rock) (red_hand scissors))
;(<= (goal red 0) (blue_hand paper) (red_hand rock))
;(<= (goal red 0) (blue_hand scissors) (red_hand paper))
